{% extends 'tool/base.html' %}
{% load static %}


{% block css_block %}
<link rel="stylesheet" type="text/css" href="{% static 'home.css' %}">
{% endblock %}

{% block body_block %}

  <h3 class="font-weight-bold">
    {% if car.archived %}
      Car <span class="text-uppercase">{{car.carName }} {{ car.carYear }} ARCHIVED</span></br>
    {% else %}
      Car <span class="text-uppercase">{{car.carName }} {{ car.carYear }}</span></br>
    {% endif %}
    SYSTEMS
  </h3>
  <hr>
  <div>
      <button class="btn btn-light add-btn" type="button"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus-lg" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M8 2a.5.5 0 0 1 .5.5v5h5a.5.5 0 0 1 0 1h-5v5a.5.5 0 0 1-1 0v-5h-5a.5.5 0 0 1 0-1h5v-5A.5.5 0 0 1 8 2Z"/>
</svg><a href="{% url 'tool:add_system' car.carSlug %}">Add System</a></button>
  </div>
  <br>
  <div class="system-wrapper">
    {% if systems %}
      <div class="row">
        {% for system in systems %}
          {% if forloop.counter|divisibleby:4 %}
            {% for key, value in access_bool.items %}
              {% if key == system.systemID %}
                {% if value.0 %}
                  {% if value.1 %}
                    <div class="col-3">
                      <div class="card bg-ugr-primary car-card" id="{{system.systemName}}">
                        <div class="d-flex car-card-title">
                          <div class="m-auto">
                            <a class="text-black fw-bold" href="{% url 'tool:system_display' car.carSlug system.systemSlug %}">{{system.systemName}} TH</a>
                          </div>
                        </div>
                      </div>
                    </div>
                  {% else %}
                    <div class="col-3">
                      <div class="card bg-ugr-primary car-card" id="{{system.systemName}}">
                        <div class="d-flex car-card-title">
                          <div class="m-auto">
                            <a class="text-black fw-bold" href="{% url 'tool:system_display' car.carSlug system.systemSlug %}">{{system.systemName}} NOT TH</a>
                          </div>
                        </div>
                      </div>
                    </div>
                    {% endif %}
                {% else %}
                  <div class="col-3">
                    <div class="card bg-grey car-card" id="{{system.systemName}}">
                      <div class="d-flex car-card-title">
                        <div class="m-auto">
                          <a class="text-black fw-bold" href="{% url 'tool:system_display' car.carSlug system.systemSlug %}">{{system.systemName}}</a>
                        </div>
                      </div>
                    </div>
                  </div>
                {% endif %}
              {% endif %}
            {% endfor %}
        </div>
        <div class="row pt-4">
          {% else %}
            {% for key, value in access_bool.items %}
            {% if key == system.systemID %}
              {% if value.0 %}
                {% if value.1 %}
                  <div class="col-3">
                    <div class="card bg-ugr-primary car-card" id="{{system.systemName}}">
                      <div class="d-flex car-card-title">
                        <div class="m-auto">
                          <a class="text-black fw-bold" href="{% url 'tool:system_display' car.carSlug system.systemSlug %}">{{system.systemName}} TH</a>
                        </div>
                      </div>
                    </div>
                  </div>
                {% else %}
                  <div class="col-3">
                    <div class="card bg-ugr-primary car-card" id="{{system.systemName}}">
                      <div class="d-flex car-card-title">
                        <div class="m-auto">
                          <a class="text-black fw-bold" href="{% url 'tool:system_display' car.carSlug system.systemSlug %}">{{system.systemName}} NOT TH</a>
                        </div>
                      </div>
                    </div>
                  </div>
                  {% endif %}
              {% else %}
                <div class="col-3">
                  <div class="card bg-grey car-card" id="{{system.systemName}}">
                    <div class="d-flex car-card-title">
                      <div class="m-auto">
                        <a class="text-black fw-bold" href="{% url 'tool:system_display' car.carSlug system.systemSlug %}">{{system.systemName}}</a>
                      </div>
                    </div>
                  </div>
                </div>
                {% endif %}
                {% endif %}
              {% endfor %}
            {% endif %}
          {% endfor %}
      </div>
    {% else %}
      <strong>There are no systems yet</strong>
    {% endif %}
  </div>

<script>

  window.onload = function() {
    // Engine and Drivetrain
    var engine_and_drivetrain = document.createElement("img");
    engine_and_drivetrain.setAttribute("class", "system_image");
    engine_and_drivetrain.setAttribute("src", "{% static 'images/engine_and_drivetrain.png' %}");
    engine_and_drivetrain.setAttribute("style", "height: 70px; width: 70px; display: block; margin-left: auto; margin-right: auto;");
    document.getElementById("E & Drivetrain").appendChild(engine_and_drivetrain);

    // Brakes
    var brakes = document.createElement("img");
    brakes.setAttribute("class", "system_image");
    brakes.setAttribute("src", "{% static 'images/brakes.png' %}");
    brakes.setAttribute("style", "height: 70px; width: 70px; display: block; margin-left: auto; margin-right: auto;");
    document.getElementById("Brakes").appendChild(brakes);

    // Frame and <body>
    var frame_and_body = document.createElement("img");
    frame_and_body.setAttribute("class", "system_image");
    frame_and_body.setAttribute("src", "{% static 'images/frame_and_body.png' %}");
    frame_and_body.setAttribute("style", "height: 46px; width: 140px; display: block; margin-left: auto; margin-right: auto;");
    document.getElementById("Frame & Body").appendChild(frame_and_body);

    // Electrical
    var electrical = document.createElement("img");
    electrical.setAttribute("class", "system_image");
    electrical.setAttribute("src", "{% static 'images/electrical.png' %}");
    electrical.setAttribute("style", "height: 70px; width: 70px; display: block; margin-left: auto; margin-right: auto;");
    document.getElementById("Electrical").appendChild(electrical);

    // Miscellaneous, Fit, Finish & Assembly
    var misc = document.createElement("img");
    misc.setAttribute("class", "system_image");
    misc.setAttribute("src", "{% static 'images/misc.png' %}");
    misc.setAttribute("style", "height: 70px; width: 26px; display: block; margin-left: auto; margin-right: auto;");
    document.getElementById("Miscellaneous").appendChild(misc);

    // Steering System
    var steering = document.createElement("img");
    steering.setAttribute("class", "system_image");
    steering.setAttribute("src", "{% static 'images/steering.png' %}");
    steering.setAttribute("style", "height: 70px; width: 70px; display: block; margin-left: auto; margin-right: auto;");
    document.getElementById("Steering System").appendChild(steering);

    // Suspension System
    var suspension = document.createElement("img");
    suspension.setAttribute("class", "system_image");
    suspension.setAttribute("src", "{% static 'images/suspension.png' %}");
    suspension.setAttribute("style", "height: 70px; width: 70px; display: block; margin-left: auto; margin-right: auto;");
    document.getElementById("Suspension").appendChild(suspension);

    // Wheels, Wheel  Bearings & Tyres
    var wheels = document.createElement("img");
    wheels.setAttribute("class", "system_image");
    wheels.setAttribute("src", "{% static 'images/wheels.png' %}");
    wheels.setAttribute("style", "height: 55px; width: 70px; display: block; margin-left: auto; margin-right: auto;");
    document.getElementById("Wheels & Tyres").appendChild(wheels);
  }
</script>

  <!--<ul>
    <li><a href = "{% url 'tool:home' %}"> Home Page </a> </li>
  </ul>-->

  <div id="clear"></div>


{% endblock %}

{% block js_block %}
<!--<script type="text/javascript" src="{% static 'car_display.js' %}"></script>-->
{% endblock %}
